{% comment %} 
  부모(archive.html)로부터 전달받은 post 객체가 있으면 그것을 사용하고, 
  없으면 현재 페이지 객체를 사용합니다. 
{% endcomment %}
{% assign post_item = include.post | default: page %}

<li class="catalogue2-item list"
    {% if post_item.tags %}
        {% for tag in post_item.tags %}
            data-{{ tag }}
        {% endfor %}
    {% endif %}>
    
    <div class="img-wrap">
        <a href="{{ post_item.url | relative_url }}">
            {% comment %} 원본 경로 구조를 그대로 사용하되, 변수만 post_item으로 변경 {% endcomment %}
            {% assign date_str = post_item.date | date: '%Y-%m-%d' %}
            <img src="{{ '/assets/blog/' | append: date_str | append: '-TechPost/' | append: post_item.image | relative_url }}" 
                 class="catalogue2-img" 
                 style="cursor:pointer"
                 onerror="this.onerror=null; this.src='{{ '/assets/default-thumbnail.png' | relative_url }}';"/>
        </a>
    </div>

    <div class="centents-wrap">
        <a href="{{ post_item.url | relative_url }}">
            {% if post_item.draft == true %}
            <span class="catalogue2-tag">Coming Soon</span>
            {% endif %}

            <div class="catalogue2-info transition">
                <h1 class="catalogue2-title">{{ post_item.title }}</h1>
                <p class="catalogue2-sub">{{ post_item.subtitle }}</p>
                <p class="catalogue2-date">{{ post_item.date | date : '%Y.%m.%d.' }}</p>
                <p class="catalogue2-body">
                    {{ post_item.content | strip_html | truncate: 65 }}
                </p>
            </div>
        </a>
        <div>
            {% include post-list-hashtag.html post=post_item %}
        </div>
    </div>
</li>